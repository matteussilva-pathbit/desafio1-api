2025-09-08 00:49:31.375 -03:00 [INF] User profile is available. Using 'C:\Users\OBERDAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-08 00:49:31.449 -03:00 [INF] Now listening on: http://localhost:5297
2025-09-08 00:49:31.451 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-08 00:49:31.451 -03:00 [INF] Hosting environment: Development
2025-09-08 00:49:31.451 -03:00 [INF] Content root path: C:\Users\OBERDAN\Desktop\DESAFIO1
2025-09-08 00:49:41.491 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - null null
2025-09-08 00:49:41.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.7516ms
2025-09-08 00:49:46.036 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 00:49:46.045 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-08 00:49:46.058 -03:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 00:49:46.073 -03:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 00:49:46.408 -03:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-08 00:49:46.839 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 00:49:46.888 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 00:49:46.898 -03:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 822.259ms
2025-09-08 00:49:46.898 -03:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 00:49:46.899 -03:00 [INF] HTTP POST /dev/seed-admin responded 200 in 855.6661 ms
2025-09-08 00:49:46.905 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 869.1517ms
2025-09-08 09:56:33.223 -03:00 [INF] User profile is available. Using 'C:\Users\OBERDAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-08 09:56:33.288 -03:00 [INF] Now listening on: http://localhost:5000
2025-09-08 09:56:33.289 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-08 09:56:33.289 -03:00 [INF] Hosting environment: Production
2025-09-08 09:56:33.289 -03:00 [INF] Content root path: C:\Users\OBERDAN\Desktop\DESAFIO1
2025-09-08 10:09:09.984 -03:00 [INF] User profile is available. Using 'C:\Users\OBERDAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-08 10:09:10.057 -03:00 [INF] Now listening on: http://localhost:5297
2025-09-08 10:09:10.058 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-08 10:09:10.058 -03:00 [INF] Hosting environment: Development
2025-09-08 10:09:10.058 -03:00 [INF] Content root path: C:\Users\OBERDAN\Desktop\DESAFIO1
2025-09-08 10:10:31.862 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/ - null null
2025-09-08 10:10:31.890 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/ - 301 0 null 28.9476ms
2025-09-08 10:10:32.060 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - null null
2025-09-08 10:10:32.164 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.2049ms
2025-09-08 10:11:10.729 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 10:11:10.734 -03:00 [WRN] Failed to determine the https port for redirect.
2025-09-08 10:11:10.758 -03:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:11:10.769 -03:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 10:11:11.123 -03:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-08 10:11:11.525 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 10:11:11.685 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Email", "Nome")
VALUES (@p0, @p1, @p2);
INSERT INTO "Users" ("Id", "CustomerId", "Email", "PasswordHash", "Type", "UserName")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-08 10:11:11.709 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 10:11:11.720 -03:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 948.2575ms
2025-09-08 10:11:11.720 -03:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:11:11.722 -03:00 [INF] HTTP POST /dev/seed-admin responded 200 in 988.3765 ms
2025-09-08 10:11:11.728 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 998.7114ms
2025-09-08 10:11:39.802 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 55
2025-09-08 10:11:39.803 -03:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:11:39.807 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 10:11:39.867 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 10:11:39.877 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_CustomerId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__user_CustomerId_Value_0
LIMIT 1
2025-09-08 10:11:39.894 -03:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 86.332ms
2025-09-08 10:11:39.894 -03:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:11:39.894 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 91.8342 ms
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-09-08 10:11:39.904 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-08 10:11:39.906 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 500 null text/plain; charset=utf-8 104.2196ms
2025-09-08 10:12:50.734 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 56
2025-09-08 10:12:50.736 -03:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:12:50.737 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 10:12:50.751 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-08 10:12:50.765 -03:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 28.7492ms
2025-09-08 10:12:50.766 -03:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:12:50.766 -03:00 [INF] HTTP POST /api/auth/login responded 400 in 30.6066 ms
2025-09-08 10:12:50.766 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 400 null application/problem+json; charset=utf-8 31.9441ms
2025-09-08 10:12:58.115 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 55
2025-09-08 10:12:58.116 -03:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:12:58.116 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 10:12:58.136 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 10:12:58.137 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_CustomerId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__user_CustomerId_Value_0
LIMIT 1
2025-09-08 10:12:58.138 -03:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 22.506ms
2025-09-08 10:12:58.138 -03:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:12:58.138 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 22.9802 ms
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-09-08 10:12:58.139 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-08 10:12:58.140 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 500 null text/plain; charset=utf-8 25.3467ms
2025-09-08 10:13:24.011 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 10:13:24.012 -03:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:13:24.012 -03:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 10:13:24.015 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 10:13:24.021 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 10:13:24.021 -03:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 9.5586ms
2025-09-08 10:13:24.022 -03:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:13:24.022 -03:00 [INF] HTTP POST /dev/seed-admin responded 200 in 9.9818 ms
2025-09-08 10:13:24.022 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 10.7156ms
2025-09-08 10:13:32.332 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 10:13:32.333 -03:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:13:32.333 -03:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 10:13:32.336 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 10:13:32.337 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 10:13:32.337 -03:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 3.9687ms
2025-09-08 10:13:32.337 -03:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 10:13:32.337 -03:00 [INF] HTTP POST /dev/seed-admin responded 200 in 4.5916 ms
2025-09-08 10:13:32.338 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 5.0762ms
2025-09-08 10:14:46.811 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 55
2025-09-08 10:14:46.811 -03:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:14:46.811 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 10:14:46.815 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 10:14:46.817 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_CustomerId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__user_CustomerId_Value_0
LIMIT 1
2025-09-08 10:14:46.817 -03:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 6.0417ms
2025-09-08 10:14:46.817 -03:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 10:14:46.818 -03:00 [ERR] HTTP POST /api/auth/login responded 500 in 6.6073 ms
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-09-08 10:14:46.819 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '216' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at Infrastructure.Identity.AuthService.IssueJwt(User user, Customer customer) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 125
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\Infrastructure\Identity\AuthService.cs:line 93
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in C:\Users\OBERDAN\Desktop\DESAFIO1\src\API\Controllers\AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-08 10:14:46.820 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 500 null text/plain; charset=utf-8 8.9073ms
2025-09-08 20:28:51.696 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-09-08 20:28:51.723 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-09-08 20:28:51.734 +00:00 [INF] Creating key {4da94058-6b60-44ea-a15b-c52cd0938c94} with creation date 2025-09-08 20:28:51Z, activation date 2025-09-08 20:28:51Z, and expiration date 2025-12-07 20:28:51Z.
2025-09-08 20:28:51.746 +00:00 [WRN] No XML encryptor configured. Key {4da94058-6b60-44ea-a15b-c52cd0938c94} may be persisted to storage in unencrypted form.
2025-09-08 20:28:51.750 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-4da94058-6b60-44ea-a15b-c52cd0938c94.xml'.
2025-09-08 20:28:51.758 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-09-08 20:28:51.799 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-09-08 20:28:51.800 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-08 20:28:51.800 +00:00 [INF] Hosting environment: Development
2025-09-08 20:28:51.800 +00:00 [INF] Content root path: /app
2025-09-08 20:54:36.504 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - null null
2025-09-08 20:54:36.638 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5297/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.7713ms
2025-09-08 20:55:57.068 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 20:55:57.080 +00:00 [WRN] Failed to determine the https port for redirect.
2025-09-08 20:55:57.104 +00:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 20:55:57.119 +00:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 20:55:57.563 +00:00 [WRN] The foreign key property 'Order.CustomerId1' was created in shadow state because a conflicting property with the simple name 'CustomerId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-08 20:55:57.996 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 20:55:58.154 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Email", "Nome")
VALUES (@p0, @p1, @p2);
INSERT INTO "Users" ("Id", "CustomerId", "Email", "PasswordHash", "Type", "UserName")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-08 20:55:58.187 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 20:55:58.205 +00:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 1082.8448ms
2025-09-08 20:55:58.206 +00:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 20:55:58.208 +00:00 [INF] HTTP POST /dev/seed-admin responded 200 in 1128.3987 ms
2025-09-08 20:55:58.217 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 1149.6252ms
2025-09-08 20:56:27.358 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 68
2025-09-08 20:56:27.361 +00:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 20:56:27.370 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 20:56:27.427 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 20:56:27.438 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_CustomerId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__user_CustomerId_Value_0
LIMIT 1
2025-09-08 20:56:27.451 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 20:56:27.453 +00:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 82.7801ms
2025-09-08 20:56:27.453 +00:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 20:56:27.454 +00:00 [INF] HTTP POST /api/auth/login responded 200 in 94.3302 ms
2025-09-08 20:56:27.454 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 200 null application/json; charset=utf-8 96.1691ms
2025-09-08 20:58:59.572 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 63
2025-09-08 20:58:59.576 +00:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 20:58:59.580 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 20:58:59.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 20:58:59.603 +00:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 22.8215ms
2025-09-08 20:58:59.604 +00:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 20:58:59.605 +00:00 [ERR] HTTP POST /api/auth/login responded 500 in 31.1908 ms
Common.DomainException: Credenciais inválidas.
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in /src/src/Infrastructure/Identity/AuthService.cs:line 85
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in /src/src/Api/Controllers/AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-09-08 20:58:59.628 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Common.DomainException: Credenciais inválidas.
   at Infrastructure.Identity.AuthService.LoginAsync(String usernameOrEmail, String senha, CancellationToken ct) in /src/src/Infrastructure/Identity/AuthService.cs:line 85
   at API.Controllers.AuthController.Login(LoginRequest req, CancellationToken ct) in /src/src/Api/Controllers/AuthController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-08 20:58:59.634 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 500 null text/plain; charset=utf-8 62.6252ms
2025-09-08 21:03:35.432 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 21:03:35.432 +00:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:35.432 +00:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 21:03:35.444 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 21:03:35.446 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:03:35.446 +00:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 13.6853ms
2025-09-08 21:03:35.447 +00:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:35.447 +00:00 [INF] HTTP POST /dev/seed-admin responded 200 in 14.8233 ms
2025-09-08 21:03:35.447 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 15.6999ms
2025-09-08 21:03:38.449 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 21:03:38.450 +00:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:38.450 +00:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 21:03:38.456 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 21:03:38.456 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:03:38.457 +00:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 6.8309ms
2025-09-08 21:03:38.457 +00:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:38.457 +00:00 [INF] HTTP POST /dev/seed-admin responded 200 in 7.9939 ms
2025-09-08 21:03:38.458 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 8.9793ms
2025-09-08 21:03:56.357 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 21:03:56.364 +00:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:56.364 +00:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 21:03:56.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 21:03:56.367 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:03:56.368 +00:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 3.3119ms
2025-09-08 21:03:56.368 +00:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:56.368 +00:00 [INF] HTTP POST /dev/seed-admin responded 200 in 5.1546 ms
2025-09-08 21:03:56.369 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 11.2939ms
2025-09-08 21:03:59.012 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/dev/seed-admin - null 0
2025-09-08 21:03:59.013 +00:00 [INF] Executing endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:59.013 +00:00 [INF] Route matched with {action = "Seed", controller = "AdminSeed"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Seed(System.Threading.CancellationToken) on controller API.Controllers.AdminSeedController (Api).
2025-09-08 21:03:59.016 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-08 21:03:59.017 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:03:59.017 +00:00 [INF] Executed action API.Controllers.AdminSeedController.Seed (Api) in 3.9276ms
2025-09-08 21:03:59.017 +00:00 [INF] Executed endpoint 'API.Controllers.AdminSeedController.Seed (Api)'
2025-09-08 21:03:59.018 +00:00 [INF] HTTP POST /dev/seed-admin responded 200 in 5.0905 ms
2025-09-08 21:03:59.018 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/dev/seed-admin - 200 null application/json; charset=utf-8 5.938ms
2025-09-08 21:04:20.994 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/login - application/json 56
2025-09-08 21:04:20.994 +00:00 [INF] Executing endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 21:04:20.995 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 21:04:20.999 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__usernameOrEmail_0='?', @__usernameOrEmail_0_1='?', @__hash_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CustomerId", u."Email", u."PasswordHash", u."Type", u."UserName"
FROM "Users" AS u
WHERE (u."Email" = @__usernameOrEmail_0 OR u."UserName" = @__usernameOrEmail_0_1) AND u."PasswordHash" = @__hash_1
LIMIT 1
2025-09-08 21:04:21.005 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_CustomerId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__user_CustomerId_Value_0
LIMIT 1
2025-09-08 21:04:21.007 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:04:21.008 +00:00 [INF] Executed action API.Controllers.AuthController.Login (Api) in 13.0201ms
2025-09-08 21:04:21.008 +00:00 [INF] Executed endpoint 'API.Controllers.AuthController.Login (Api)'
2025-09-08 21:04:21.008 +00:00 [INF] HTTP POST /api/auth/login responded 200 in 14.2489 ms
2025-09-08 21:04:21.009 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/login - 200 null application/json; charset=utf-8 15.1549ms
2025-09-08 21:04:58.025 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/products - application/json 64
2025-09-08 21:04:58.053 +00:00 [INF] Executing endpoint 'API.Controllers.ProductsController.Create (Api)'
2025-09-08 21:04:58.057 +00:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(CreateProductRequest, System.Threading.CancellationToken) on controller API.Controllers.ProductsController (Api).
2025-09-08 21:04:58.085 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Nome", "Preco", "QuantityAvailable")
VALUES (@p0, @p1, @p2, @p3);
2025-09-08 21:04:58.087 +00:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:04:58.101 +00:00 [INF] Executed action API.Controllers.ProductsController.Create (Api) in 43.8085ms
2025-09-08 21:04:58.101 +00:00 [INF] Executed endpoint 'API.Controllers.ProductsController.Create (Api)'
2025-09-08 21:04:58.101 +00:00 [INF] HTTP POST /api/products responded 201 in 76.2439 ms
2025-09-08 21:04:58.102 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/products - 201 null application/json; charset=utf-8 77.0758ms
2025-09-08 21:06:06.259 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/auth/signup - application/json 111
2025-09-08 21:06:06.260 +00:00 [INF] Executing endpoint 'API.Controllers.AuthController.SignUp (Api)'
2025-09-08 21:06:06.263 +00:00 [INF] Route matched with {action = "SignUp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(SignUpRequest, System.Threading.CancellationToken) on controller API.Controllers.AuthController (Api).
2025-09-08 21:06:06.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Email", "Nome")
VALUES (@p0, @p1, @p2);
INSERT INTO "Users" ("Id", "CustomerId", "Email", "PasswordHash", "Type", "UserName")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
2025-09-08 21:06:06.280 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:06:06.280 +00:00 [INF] Executed action API.Controllers.AuthController.SignUp (Api) in 17.0357ms
2025-09-08 21:06:06.280 +00:00 [INF] Executed endpoint 'API.Controllers.AuthController.SignUp (Api)'
2025-09-08 21:06:06.280 +00:00 [INF] HTTP POST /api/auth/signup responded 200 in 20.5124 ms
2025-09-08 21:06:06.281 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/auth/signup - 200 null application/json; charset=utf-8 21.2845ms
2025-09-08 21:07:42.124 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5297/api/Orders - application/json 128
2025-09-08 21:07:42.128 +00:00 [INF] Executing endpoint 'API.Controllers.OrdersController.Create (Api)'
2025-09-08 21:07:42.135 +00:00 [INF] Route matched with {action = "Create", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(API.Controllers.CreateOrderRequestDto, System.Threading.CancellationToken) on controller API.Controllers.OrdersController (Api).
2025-09-08 21:07:42.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Email", c."Nome"
FROM "Customers" AS c
WHERE c."Id" = @__id_0
LIMIT 1
2025-09-08 21:07:42.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Nome", p."Preco", p."QuantityAvailable"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-09-08 21:07:42.198 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = Int32), @p8='?', @p12='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Decimal), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "CustomerId", "CustomerId1", "DataPedido", "EnderecoEntrega", "Preco", "ProductId", "Quantidade", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE "Products" SET "Nome" = @p9, "Preco" = @p10, "QuantityAvailable" = @p11
WHERE "Id" = @p12;
2025-09-08 21:07:42.202 +00:00 [INF] Executing CreatedResult, writing value of type '<>f__AnonymousType3`1[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-08 21:07:42.203 +00:00 [INF] Executed action API.Controllers.OrdersController.Create (Api) in 67.8754ms
2025-09-08 21:07:42.203 +00:00 [INF] Executed endpoint 'API.Controllers.OrdersController.Create (Api)'
2025-09-08 21:07:42.204 +00:00 [INF] HTTP POST /api/Orders responded 201 in 78.9945 ms
2025-09-08 21:07:42.204 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5297/api/Orders - 201 null application/json; charset=utf-8 80.0522ms
2025-09-08 21:40:26.707 +00:00 [INF] Application is shutting down...
